<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><title>css黑魔法之鼠标微交互 | 钟文浩的博客</title><link rel="stylesheet" href="/libs/spoqa-han-sans-kr/css/SpoqaHanSans-kr.css"><link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="/css/highlights/dracula.css"><link rel="canonical" href="http://zhongwenhao.cn/2018/04/01/css黑魔法之鼠标微交互/"/>
<meta name="description" content="前端鼠标微交互中，我们经常会处理鼠标事件，常见的应用场景就是tips跟随鼠标移动。css中…">
<meta name="keywords" content="css pointer-events">
<meta property="og:type" content="article">
<meta property="og:title" content="css黑魔法之鼠标微交互">
<meta property="og:url" content="http://zhongwenhao.cn/2018/04/01/css黑魔法之鼠标微交互/">
<meta property="og:site_name" content="钟文浩的博客">
<meta property="og:description" content="前端鼠标微交互中，我们经常会处理鼠标事件，常见的应用场景就是tips跟随鼠标移动。css中…">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="http://zhongwenhao.cn/images/default.jpg">
<meta property="og:updated_time" content="2018-04-01T13:19:46.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="css黑魔法之鼠标微交互">
<meta name="twitter:description" content="前端鼠标微交互中，我们经常会处理鼠标事件，常见的应用场景就是tips跟随鼠标移动。css中…">
<meta name="twitter:image" content="http://zhongwenhao.cn/images/default.jpg"><meta property="article:author" content="zhongwenhao"><meta property="twitter:label1" content="Published at"><meta property="twitter:data1" content="2018-04-01 19:49:41"><meta property="twitter:label2" content="Written by"><meta property="twitter:data2" content="zhongwenhao"><link rel="icon" href="/images/favicon.ico"></head><body itemscope itemtype="https://schema.org/WebPage"><nav class="menu" id="menu"><div class="menu-inner"><div class="menu__left-area"><div class="menu__item"><a class="menu__item__link menu__item__link--brand" href="/" title="Home" rel="home"><img class="menu__item__link--brand__image" src="/images/favicon.ico" alt="钟文浩的博客"><span class="menu__item__link--brand__label">钟文浩的博客</span></a></div></div><div class="menu__right-area"><div class="menu__item"><a class="menu__item__link" href="/">主页</a></div><div class="menu__item"><a class="menu__item__link" href="/about">关于</a></div><div class="menu__item"><a class="menu__item__link" href="/archives">文章</a></div></div></div></nav><div class="page-background"></div><div class="content-container"><div class="content-outer"><div class="content-inner" itemscope itemtype="https://schema.org/Blog"><article class="article" id="article" itemscope itemtype="https://schema.org/BlogPosting"><h1 class="article__title" itemprop="headline">css黑魔法之鼠标微交互</h1><div class="article__meta"><time class="article__meta__time" datetime="2018-04-01T11:49:41.000Z" itemprop="datePublished">2018-04-01 19:49:41</time></div><hr><div class="article__contents"><blockquote>
<p>前端鼠标微交互中，我们经常会处理鼠标事件，常见的应用场景就是tips跟随鼠标移动。css中 <strong>pointer-events</strong>属性就是一个和鼠标事件相关的属性，它能带给我们哪些精湛的表现呢，下面就是情景之一</p>
</blockquote>
<h1 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h1><p>最近在做前端页面交互的时候，需要做一个移动tips，tips的位置会随着鼠标的移动而发生位置变化，写完代码以后，发现交互总是不流畅，容易出现卡顿和失效的问题。</p>
<h1 id="解决"><a href="#解决" class="headerlink" title="解决"></a>解决</h1><p>然后我就非常仔细地寻找蛛丝马迹，找到可能出现问题的原因。由于我的tips是在鼠标的右下角做展示，当鼠标往右下角较快移动的时候，就出现了这个问题。<br>我猜测可能是鼠标事件冒泡导致的，常规解决办法就是用js去阻止事件冒泡，这个时候我又想起了之前一次和好基友商量处理前端微交互的的现场，然后我觉得之前的解决办法也能搞定这次的问题。<br>然后直接给tips的样式直接设置了一个pointer-events:none，不出所料果然解决问题，开心啊。<br>基于jquery我做一了一个demo，复现了案发现场，<a href="https://jsfiddle.net/user/miSunLaughing/fiddles/" target="_blank" rel="external">Demo</a>。</p>
<h1 id="深入研究"><a href="#深入研究" class="headerlink" title="深入研究"></a>深入研究</h1><h2 id="案发现场"><a href="#案发现场" class="headerlink" title="案发现场"></a>案发现场</h2><p>上面是案犯现场大致的情况，tips是在鼠标的右下角做展示，当鼠标往右下角较快移动的时候，鼠标会不小心移动到tips上，然后触发了tips的鼠标事件，随后又冒泡到父辈DOM元素上，而我们在父辈元素上进行了鼠标事件处理操作，然后就出现问题，tips的移动会出现卡顿，当鼠标已经离开父辈元素的区域，而tips因为坐标的问题已经显示在父辈元素之外了，但是依旧能触发父辈元素的鼠标事件。</p>
<h2 id="pointer-events"><a href="#pointer-events" class="headerlink" title="pointer-events"></a>pointer-events</h2><p>它有两个值，auto和none。所有的dom元素，它的pointer-events的属性都是默认值为auto。都能触发鼠标事件，但我们将其设置为none的时候，该DOM元素就不能触发鼠标事件了。也就是常见的hover、click、mousemove等事件。当我们鼠标在该DOM元素上的时候，就会发现鼠标穿透了，该元素就像被鼠标忽略了。关于这个属性的更多信息我们我可以参照旭哥的文章<a href="http://www.zhangxinxu.com/wordpress/2011/12/css3-pointer-events-none-javascript/" target="_blank" rel="external">pointer-events应用举例及扩展</a>。</p>
<h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><ul>
<li>css里面有很多黑魔法，还是很值得深入研究的</li>
<li>前端微交互，涉及到鼠标事件的时候，我们就应该想起这个css属性，它可能拥有黑魔法</li>
</ul>
<h3 id="推荐链接"><a href="#推荐链接" class="headerlink" title="推荐链接"></a>推荐链接</h3><p><a href="https://jsfiddle.net/user/miSunLaughing/fiddles/" target="_blank" rel="external">Demo地址</a></p>
<h3 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h3><p><a href="http://www.zhangxinxu.com/wordpress/2011/12/css3-pointer-events-none-javascript/" target="_blank" rel="external">pointer-events应用举例及扩展</a></p>
</div><div class="article__tags"><a class="article__tags__item" href="/tags/css-pointer-events/">css pointer-events</a></div><div class="article__author" itemscope itemprop="author" itemtype="https://schema.org/Person"><img class="article__author__image" src="/images/zhongwenhao.jpg" alt="zhongwenhao"><a class="article__author__link" href="zhongwenhao.cn" title="About zhongwenhao" rel="author">zhongwenhao</a><p class="article__author__desc">miSunLaughing</p><div class="article__author__socials"><a class="article__author__socials__item" href="https://github.com/miSunLaughing" title="github" target="_blank"><i class="fa fa-github"></i></a></div><meta itemprop="name" content="zhongwenhao"></div><!-- Disqus Code--><!-- Meta Tags for Structured Data--><meta itemprop="dateModified" content="2018-04-01T13:19:46.000Z"><meta itemprop="articleBody" content="
前端鼠标微交互中，我们经常会处理鼠标事件，常见的应用场景就是tips跟随鼠标移动。css中..."><meta itemprop="url" content="http://zhongwenhao.cn/2018/04/01/css黑魔法之鼠标微交互/"><meta itemprop="mainEntityOfPage" content="http://zhongwenhao.cn/2018/04/01/css黑魔法之鼠标微交互/"><div itemscope itemtype="https://schema.org/Organization" itemprop="publisher"><meta itemprop="name" content="钟文浩的博客"><div itemscope itemprop="logo" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="http://zhongwenhao.cn/images/favicon.ico"></div></div><div itemscope itemtype="https://schema.org/ImageObject" itemprop="image"><meta itemprop="contentUrl" content="http://zhongwenhao.cn/images/default.jpg"><meta itemprop="url" content="http://zhongwenhao.cn/images/default.jpg"><meta itemprop="width" content="1280"><meta itemprop="height" content="720"></div></article></div></div></div><footer id="footer"><div class="widgets"><div class="widgets-inner"><!-- Jade doesn't support dynamic inclusion with `each`.--><!-- So, I just hard coded the file names that will be included.--><div class="widgets__item"><h3 class="widgets__item__heading">Recent posts</h3><ul class="recent-posts"><li class="recent-posts__item"><a href="/2018/04/01/css黑魔法之鼠标微交互/">css黑魔法之鼠标微交互</a></li><li class="recent-posts__item"><a href="/2017/10/09/“前言”/">“前言”</a></li></ul></div><div class="widgets__item"><h3 class="widgets__item__heading">Tag cloud</h3><div class="tag-cloud"><a href="/tags/css-pointer-events/" style="font-size: 0.75rem;">css pointer-events</a> <a href="/tags/other/" style="font-size: 0.75rem;">other</a></div></div><div class="widgets__item"><h3 class="widgets__item__heading">Categories</h3></div></div></div><p class="copyright"><small>© 2018 zhongwenhao<br>Powered by <a href="https://hexo.io" rel="external" target="_blank">Hexo</a>, Theme by <a href="https://github.com/hyunseob" rel="external" target="_blank">HyunSeob</a></small></p></footer><script src="/js/sharer.min.js"></script></body></html>